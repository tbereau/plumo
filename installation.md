# Installation #

## ESPResSo ##

### Features ###

First you'll need ESPResSo, which you can find at http://espressomd.org/. Have a look at ESPResSo's [documentation](http://espressomd.org/wordpress/documentation/) as well as [user's mailing-list](http://espressomd.org/wordpress/mailing-lists/) for help.  What's important here is to activate a number of `FEATURES` that are necessary for PLUMO. After downloading ESPResSo, edit your `myconfig.hpp` file (if missing in your ESPResSo directory, use the `myconfig-default.hpp` file as a template) and uncomment the following `FEATURES` to have them compiled in:
  * MODES
  * EXTERNAL\_FORCES
  * TABULATED
  * CONSTRAINTS
  * LENNARD\_JONES\_GENERIC
  * MASS
  * COMFIXED
  * MOLFORCES
  * FFTW
  * NPT
  * COMFORCE
  * BOND\_VIRTUAL
  * PARTIAL\_PERIODIC
  * LENNARD\_JONES
  * BOND\_ANGLE
  * LJ\_ANGLE
  * OVERLAPPED
  * EXCLUSIONS
Note that other features may be necessary to activate optional features of PLUMO. It's always easy to edit `myconfig.hpp` and recompile ESPResSo.

Make sure all the `FEATURES` you need are compiled in by launching ESPResSo (without arguments) and type
```
code_info
```
you'll see a list of all the `FEATURES` that are currently compiled in.

### Parallel tempering ###

To take advantage of enhanced sampling in ESPResSo, you'll need to load the parallel tempering script every time you launch ESPResSo. To do so automatically, simply append to (or create) the file `~/.espressorc` in your `HOME` folder the following command:
```
# Load parallel tempering script
source $env(ESPRESSO_SCRIPTS)/parallel_tempering.tcl
```

## PLUMO ##

Download PLUMO by following the instructions in https://code.google.com/p/plumo/source/checkout. You can either
  1. (easy solution) get a local copy of the code, allowing you updates (read-only)
```
git clone https://code.google.com/p/plumo/
```
  1. create your own clone, and thereby adapt the repository with an independent git repository. Note that any change will affect _your_ repository, not `plumo` directly. If you wish to contribute to `plumo`, request a code review.

The repository uses `git` to keep the code up to date. To download PLUMO, copy-paste the command shown to you at the aforementioned page in your terminal. This will create a subdirectory `plumo` and download a copy of the repository. To periodically take advantage of updates, you can simply run
```
git pull
```
to update the code to its latest version. Make sure, however, not to make any changes in the `plumo` subdirectories. Any simulation should be run in a separate directory (otherwise updates of the code will be problematic).

To properly link ESPResSo and PLUMO, you'll need to append one more line to the `~/.espressorc` file:
```
# PLUMO
lappend auto_path "/PATH/TO/plumo/cgtools"
```
where you'll need to provide the absolute path of PLUMO.

## VMD ##

To load the VMD files generated by PLUMO, edit your `~/.vmdrc` file so that it sources a configuration file
```
# PLUMO
source "/PATH/TO/plumo/misc.scripts/vmd_plg.tcl"
```